/**
 * angular-sofa-navigation-service - v0.1.2 - Thu Apr 23 2015 11:50:45 GMT+0200 (CEST)
 * http://www.sofa.io
 *
 * Copyright (c) 2014 CouchCommerce GmbH (http://www.couchcommerce.com / http://www.sofa.io) and other contributors
 * THIS SOFTWARE CONTAINS COMPONENTS OF THE SOFA.IO COUCHCOMMERCE SDK (WWW.SOFA.IO)
 * IT IS PROVIDED UNDER THE LICENSE TERMS OF THE ATTACHED LICENSE.TXT.
 */
!function(e){e.module("sofa.navigationService",["sofa.couchService","sofa.tracking","sofa.urlConstructionService","sofa.urlParserService","sofa.stateResolverService"]).factory("navigationService",["$location","$window","couchService","trackingService","urlConstructionService","urlParserService","stateResolverService",function(e,t,a,r,o,n,i){"use strict";var c={};c.navigateToUrl=function(t){r.trackEvent({category:"pageView",label:t}),e.path(t)},c.navigateToContentPage=function(e){c.navigateToUrl(o.createUrlForContentPage(e))},c.navigateToRootCategory=function(){c.navigateToUrl(o.createUrlForRootCategory())},c.navigateToCart=function(){c.navigateToUrl(o.createUrlForCart())},c.navigateToCheckout=function(){c.navigateToUrl(o.createUrlForCheckout())},c.navigateToSummary=function(t){e.path(o.createUrlForSummary(t)),r.trackEvent({category:"pageView",label:"/summary"})},c.navigateToShippingCostsPage=function(){c.navigateToUrl(o.createUrlForShippingCostsPage())};var g=function(e){a.getCategory(e).then(function(e){e.parent&&e.parent.parent?c.navigateToUrl(e.parent.getOriginFullUrl()):c.navigateToRootCategory()})};return c.goUp=function(){i.resolveState(e.path()).then(function(e){"product"===e.stateName?a.getCategory(e.stateParams.categoryId).then(function(e){c.navigateToUrl(e.getOriginFullUrl())}):"products"===e.stateName?g(e.stateParams.categoryId):"categories"===e.stateName?g(e.stateParams.categoryId):t.history.back()})},r.trackEvent({category:"pageView",label:e.path()}),c}])}(angular);