/**
 * angular-sofa-navigation-service - v0.1.0 - Tue Feb 17 2015 15:12:50 GMT+0100 (CET)
 * http://www.sofa.io
 *
 * Copyright (c) 2014 CouchCommerce GmbH (http://www.couchcommerce.com / http://www.sofa.io) and other contributors
 * THIS SOFTWARE CONTAINS COMPONENTS OF THE SOFA.IO COUCHCOMMERCE SDK (WWW.SOFA.IO)
 * IT IS PROVIDED UNDER THE LICENSE TERMS OF THE ATTACHED LICENSE.TXT.
 */
!function(t){t.module("sofa.navigationService",["sofa.couchService","sofa.tracking","sofa.urlConstructionService","sofa.urlParserService"]).factory("navigationService",["$location","$window","couchService","trackingService","urlConstructionService","urlParserService","stateResolverService",function(t,a,e,r,o,n,i){"use strict";var c={};c.navigateToUrl=function(a){r.trackEvent({category:"pageView",label:a}),t.path(a)},c.navigateToContentPage=function(t){c.navigateToUrl(o.createUrlForContentPage(t))},c.navigateToRootCategory=function(){c.navigateToUrl(o.createUrlForRootCategory())},c.navigateToCart=function(){c.navigateToUrl(o.createUrlForCart())},c.navigateToCheckout=function(){c.navigateToUrl(o.createUrlForCheckout())},c.navigateToSummary=function(a){t.path(o.createUrlForSummary(a)),r.trackEvent({category:"pageView",label:"/summary"})},c.navigateToShippingCostsPage=function(){c.navigateToUrl(o.createUrlForShippingCostsPage())};var g=function(t){e.getCategory(t).then(function(t){t.parent&&t.parent.parent?c.navigateToUrl(t.parent.getOriginFullUrl()):c.navigateToRootCategory()})};return c.goUp=function(){i.resolveState(t.path()).then(function(t){"product"===t.stateName?e.getCategory(t.stateParams.category).then(function(t){c.navigateToUrl(t.getOriginFullUrl())}):"products"===t.stateName?g(t.stateParams.category):"categories"===t.stateName?g(t.stateParams.category):a.history.back()})},r.trackEvent({category:"pageView",label:t.path()}),c}])}(angular);